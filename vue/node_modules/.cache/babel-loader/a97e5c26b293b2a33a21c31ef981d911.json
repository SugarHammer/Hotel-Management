{"remainingRequest":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\GitHub\\smart-hotel\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\GitHub\\smart-hotel\\vue\\src\\views\\Map.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\GitHub\\smart-hotel\\vue\\src\\views\\Map.vue","mtime":1751596472670},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IG1hcEljb24gZnJvbSAiLi4vYXNzZXRzL21hcmtlcnMucG5nIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYXAiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g55m+5bqm5Zyw5Zu+QVBJ5Yqf6IO9CiAgICB2YXIgbWFwID0gbmV3IEJNYXAuTWFwKCdjb250YWluZXInKTsgLy8g5Yib5bu6TWFw5a6e5L6LCgogICAgdmFyIG1hcExpc3QgPSBbXTsgLy8g5Yib5bu65Zyw5Zu+5a6e5L6LICAKCiAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCgxMTYuNDA0LCAzOS45MTUpOyAvLyDliJvlu7rngrnlnZDmoIcgIAoKICAgIG1hcC5jZW50ZXJBbmRab29tKHBvaW50LCAxMik7CiAgICB2YXIgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50KTsgLy8gbWFwLmFkZE92ZXJsYXkobWFya2VyKTsKCiAgICBtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKHRydWUpOyAvLyDlvIDlkK/pvKDmoIfmu5rova7nvKnmlL4KCiAgICBmdW5jdGlvbiBtYXJrZXJGdW4ocG9pbnRzLCBpbmZvV2luZG93cywgaWNvbikgewogICAgICB2YXIgbWFya2VycyA9IG5ldyBCTWFwLk1hcmtlcihwb2ludHMsIHsKICAgICAgICBpY29uOiBpY29uCiAgICAgIH0pOwogICAgICBtYXAuYWRkT3ZlcmxheShtYXJrZXJzKTsKICAgICAgbWFya2Vycy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIG1hcC5vcGVuSW5mb1dpbmRvdyhpbmZvV2luZG93cywgcG9pbnRzKTsgLy/lj4LmlbDvvJrnqpflj6PjgIHngrkgIOagueaNrueCueWHu+eahOeCueWHuueOsOWvueW6lOeahOeql+WPowogICAgICB9KTsKICAgIH0KCiAgICB2YXIgZ2VvbG9jYXRpb24gPSBuZXcgQk1hcC5HZW9sb2NhdGlvbigpOwogICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChyKSB7CiAgICAgIGlmICh0aGlzLmdldFN0YXR1cygpID09IEJNQVBfU1RBVFVTX1NVQ0NFU1MpIHsKICAgICAgICB2YXIgbWsgPSBuZXcgQk1hcC5NYXJrZXIoci5wb2ludCk7CiAgICAgICAgbWFwLmFkZE92ZXJsYXkobWspOwogICAgICAgIG1hcC5wYW5UbyhyLnBvaW50KTsKICAgICAgICBhbGVydCgn5oKo55qE5L2N572u77yaJyArIHIucG9pbnQubG5nICsgJywnICsgci5wb2ludC5sYXQpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCflrprkvY3lpLHotKUnICsgdGhpcy5nZXRTdGF0dXMoKSk7CiAgICAgIH0KICAgIH0pOwogICAgcmVxdWVzdC5nZXQoIi9hcGFydG1lbnQvYWxsTGlzdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBtYXBMaXN0ID0gcmVzLmRhdGE7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgeCA9IE51bWJlcihtYXBMaXN0W2ldLmNvb3JkaW5hdGVzLnNwbGl0KCcsJylbMF0pOwogICAgICAgIHZhciB5ID0gTnVtYmVyKG1hcExpc3RbaV0uY29vcmRpbmF0ZXMuc3BsaXQoJywnKVsxXSk7IC8vIOagueaNruS4jeWQjOeahOeKtuaAgeiuvue9ruS4jeWQjOeahOagh+iusAoKICAgICAgICBpZiAobWFwTGlzdFtpXS5zdGF0dXMgIT0gMCkgewogICAgICAgICAgdmFyIGljb24gPSBuZXcgQk1hcC5JY29uKG1hcEljb24sIG5ldyBCTWFwLlNpemUoMjAsIDI1KSwgewogICAgICAgICAgICBhbmNob3I6IG5ldyBCTWFwLlNpemUoMTAsIDMwKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBpY29uID0gbmV3IEJNYXAuSWNvbihtYXBJY29uLCBuZXcgQk1hcC5TaXplKDIwLCAyNSksIHsKICAgICAgICAgICAgYW5jaG9yOiBuZXcgQk1hcC5TaXplKDEwLCAzMCkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIGh0bWwgPSAnPHNwYW4+55S16K+d77yaPC9zcGFuPicgKyBtYXBMaXN0W2ldLnRlbGVwaG9uZSArICc8YnI+JyArICc8c3Bhbj7lnLDlnYA6PC9zcGFuPicgKyBtYXBMaXN0W2ldLmFkZHJlc3MgKyAnPGJyPicgKyAnPHNwYW4+5ZCN56ew77yaPHNwYW4+JyArIG1hcExpc3RbaV0ubmFtZTsKICAgICAgICB2YXIgcG9pbnRzID0gbmV3IEJNYXAuUG9pbnQoeCwgeSk7IC8v5Yib5bu65Z2Q5qCH54K5CgogICAgICAgIHZhciBvcHRzID0gewogICAgICAgICAgd2lkdGg6IDMwMCwKICAgICAgICAgIGhlaWdodDogMTAwLAogICAgICAgICAgdGl0bGU6ICfnrqHnkIblkZjlp5PlkI06JyArIG1hcExpc3RbaV0uYWRtaW5OYW1lCiAgICAgICAgfTsKICAgICAgICB2YXIgaW5mb1dpbmRvd3MgPSBuZXcgQk1hcC5JbmZvV2luZG93KGh0bWwsIG9wdHMpOwogICAgICAgIG1hcmtlckZ1bihwb2ludHMsIGluZm9XaW5kb3dzLCBpY29uKTsKICAgICAgfQogICAgfSk7IC8vIG1hcExpc3QgPSBbewogICAgLy8gICBjb29yZGluYXRlczogJzEyMS4zOTY4MDIsMzEuMjEyNTI3JywKICAgIC8vICAgc2lsb051bWJlcjogJzEnLAogICAgLy8gICBhZG1pbk5hbWU6ICdhZG1pbicsCiAgICAvLyAgIGFkZHJlc3M6ICd4eHgxJywKICAgIC8vICAgc3RhdHVzOiAnMCcsCiAgICAvLyAgIH0sewogICAgLy8gICAgIGNvb3JkaW5hdGVzOiAnMTIxLjQxNzY0MywzMS4xOTM3NDgnLAogICAgLy8gICAgIHNpbG9OdW1iZXI6ICcyJywKICAgIC8vICAgICBhZG1pbk5hbWU6ICdhZG1pbjInLAogICAgLy8gICAgIGFkZHJlc3M6ICd4eHgyJywKICAgIC8vICAgICBzdGF0dXM6ICcwJywKICAgIC8vICAgfSx7CiAgICAvLyAgICAgY29vcmRpbmF0ZXM6ICcxMjEuMzg5MTEzLDMxLjE5NTE2OCcsCiAgICAvLyAgICAgc2lsb051bWJlcjogJzMnLAogICAgLy8gICAgIGFkbWluTmFtZTogJ2FkbWluMycsCiAgICAvLyAgICAgYWRkcmVzczogJ3h4eDMnLAogICAgLy8gICAgIHN0YXR1czogJzAnLAogICAgLy8gICB9LF07CiAgfQp9Ow=="},{"version":3,"sources":["E:\\GitHub\\smart-hotel\\vue\\src\\views\\Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div id=\"container\" style=\"width: 100%;height:1000px\"></div>\n  </div>\n</template>\n\n<script>\nimport mapIcon from \"../assets/markers.png\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Map\",\n  data() {\n    return {\n    }\n  },\n  mounted() {\n\n  // 百度地图API功能\n  var map = new BMap.Map('container'); // 创建Map实例\n  var mapList = [];\n  // 创建地图实例  \n  var point = new BMap.Point(116.404, 39.915);\n  // 创建点坐标  \n  map.centerAndZoom(point, 12);\n  var marker = new BMap.Marker(point);\n  // map.addOverlay(marker);\n  map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放\n  function markerFun(points, infoWindows, icon) {\n    var markers = new BMap.Marker(points, { icon: icon });\n    map.addOverlay(markers);\n    markers.addEventListener('click', function (event) {\n      map.openInfoWindow(infoWindows, points);//参数：窗口、点  根据点击的点出现对应的窗口\n    })\n  }\n\n  var geolocation = new BMap.Geolocation();\n    geolocation.getCurrentPosition(function(r){\n      if(this.getStatus() == BMAP_STATUS_SUCCESS){\n        var mk = new BMap.Marker(r.point);\n        map.addOverlay(mk);\n        map.panTo(r.point);\n        alert('您的位置：'+r.point.lng+','+r.point.lat);\n      }\n      else {\n        alert('定位失败'+this.getStatus());\n      }\n    });\n  request.get(\"/apartment/allList\").then(res => {\n    mapList = res.data\n    for (var i = 0; i < mapList.length; i++) {\n\n      var x = Number(mapList[i].coordinates.split(',')[0])\n      var y = Number(mapList[i].coordinates.split(',')[1])\n      // 根据不同的状态设置不同的标记\n      if (mapList[i].status != 0) {\n        var icon = new BMap.Icon( mapIcon, new BMap.Size(20, 25), {\n          anchor: new BMap.Size(10, 30)\n        })\n      } else {\n        var icon = new BMap.Icon( mapIcon, new BMap.Size(20, 25), {\n          anchor: new BMap.Size(10, 30)\n        })\n      }\n      var html = '<span>电话：</span>' + mapList[i].telephone + '<br>' + '<span>地址:</span>' + mapList[i].address + '<br>' + '<span>名称：<span>' + mapList[i].name\n      var points = new BMap.Point(x, y);//创建坐标点\n      var opts = {\n          width: 300,\n          height: 100,\n          title: '管理员姓名:' + mapList[i].adminName\n        }\n        var infoWindows = new BMap.InfoWindow(html, opts);\n        markerFun(points, infoWindows, icon);\n      }\n  });\n  // mapList = [{\n  //   coordinates: '121.396802,31.212527',\n  //   siloNumber: '1',\n  //   adminName: 'admin',\n  //   address: 'xxx1',\n  //   status: '0',\n  //   },{\n  //     coordinates: '121.417643,31.193748',\n  //     siloNumber: '2',\n  //     adminName: 'admin2',\n  //     address: 'xxx2',\n  //     status: '0',\n  //   },{\n  //     coordinates: '121.389113,31.195168',\n  //     siloNumber: '3',\n  //     adminName: 'admin3',\n  //     address: 'xxx3',\n  //     status: '0',\n  //   },];\n  },\n}\n</script>\n<style scoped>\n    html,body,.XSDFXPage{\n        width: 50%;\n        height: 50%;\n        overflow: hidden;\n        margin: 0px auto;\n        font-family: \"微软雅黑\";\n    }\n</style>"],"sourceRoot":""}]}