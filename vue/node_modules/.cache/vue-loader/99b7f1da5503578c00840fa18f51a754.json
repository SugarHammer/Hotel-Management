{"remainingRequest":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\GitHub\\smart-hotel\\vue\\src\\views\\Map.vue?vue&type=template&id=26bca5dc&scoped=true","dependencies":[{"path":"E:\\GitHub\\smart-hotel\\vue\\src\\views\\Map.vue","mtime":1751596472670},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KICAgIDxkaXYgaWQ9ImNvbnRhaW5lciIgc3R5bGU9IndpZHRoOiAxMDAlO2hlaWdodDoxMDAwcHgiPjwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["E:\\GitHub\\smart-hotel\\vue\\src\\views\\Map.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC,CAAC,CAAC","file":"E:/GitHub/smart-hotel/vue/src/views/Map.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <div id=\"container\" style=\"width: 100%;height:1000px\"></div>\n  </div>\n</template>\n\n<script>\nimport mapIcon from \"../assets/markers.png\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Map\",\n  data() {\n    return {\n    }\n  },\n  mounted() {\n\n  // 百度地图API功能\n  var map = new BMap.Map('container'); // 创建Map实例\n  var mapList = [];\n  // 创建地图实例  \n  var point = new BMap.Point(116.404, 39.915);\n  // 创建点坐标  \n  map.centerAndZoom(point, 12);\n  var marker = new BMap.Marker(point);\n  // map.addOverlay(marker);\n  map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放\n  function markerFun(points, infoWindows, icon) {\n    var markers = new BMap.Marker(points, { icon: icon });\n    map.addOverlay(markers);\n    markers.addEventListener('click', function (event) {\n      map.openInfoWindow(infoWindows, points);//参数：窗口、点  根据点击的点出现对应的窗口\n    })\n  }\n\n  var geolocation = new BMap.Geolocation();\n    geolocation.getCurrentPosition(function(r){\n      if(this.getStatus() == BMAP_STATUS_SUCCESS){\n        var mk = new BMap.Marker(r.point);\n        map.addOverlay(mk);\n        map.panTo(r.point);\n        alert('您的位置：'+r.point.lng+','+r.point.lat);\n      }\n      else {\n        alert('定位失败'+this.getStatus());\n      }\n    });\n  request.get(\"/apartment/allList\").then(res => {\n    mapList = res.data\n    for (var i = 0; i < mapList.length; i++) {\n\n      var x = Number(mapList[i].coordinates.split(',')[0])\n      var y = Number(mapList[i].coordinates.split(',')[1])\n      // 根据不同的状态设置不同的标记\n      if (mapList[i].status != 0) {\n        var icon = new BMap.Icon( mapIcon, new BMap.Size(20, 25), {\n          anchor: new BMap.Size(10, 30)\n        })\n      } else {\n        var icon = new BMap.Icon( mapIcon, new BMap.Size(20, 25), {\n          anchor: new BMap.Size(10, 30)\n        })\n      }\n      var html = '<span>电话：</span>' + mapList[i].telephone + '<br>' + '<span>地址:</span>' + mapList[i].address + '<br>' + '<span>名称：<span>' + mapList[i].name\n      var points = new BMap.Point(x, y);//创建坐标点\n      var opts = {\n          width: 300,\n          height: 100,\n          title: '管理员姓名:' + mapList[i].adminName\n        }\n        var infoWindows = new BMap.InfoWindow(html, opts);\n        markerFun(points, infoWindows, icon);\n      }\n  });\n  // mapList = [{\n  //   coordinates: '121.396802,31.212527',\n  //   siloNumber: '1',\n  //   adminName: 'admin',\n  //   address: 'xxx1',\n  //   status: '0',\n  //   },{\n  //     coordinates: '121.417643,31.193748',\n  //     siloNumber: '2',\n  //     adminName: 'admin2',\n  //     address: 'xxx2',\n  //     status: '0',\n  //   },{\n  //     coordinates: '121.389113,31.195168',\n  //     siloNumber: '3',\n  //     adminName: 'admin3',\n  //     address: 'xxx3',\n  //     status: '0',\n  //   },];\n  },\n}\n</script>\n<style scoped>\n    html,body,.XSDFXPage{\n        width: 50%;\n        height: 50%;\n        overflow: hidden;\n        margin: 0px auto;\n        font-family: \"微软雅黑\";\n    }\n</style>"]}]}