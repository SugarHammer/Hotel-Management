{"remainingRequest":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\GitHub\\smart-hotel\\vue\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css","dependencies":[{"path":"E:\\GitHub\\smart-hotel\\vue\\src\\views\\Login.vue","mtime":1751596655040},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\smart-hotel\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ob21lcGFnZS1oZXJvLW1vZHVsZSwKCi5idWlsZGluZ3sKICBiYWNrZ3JvdW5kOnVybCgiLi4vYXNzZXRzL2JnYmcuanBnIik7CiAgd2lkdGg6MTAwJTsKICBoZWlnaHQ6MTAwJTsKICBwb3NpdGlvbjpmaXhlZDsKICBiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlOwp9CgouZmlsbFdpZHRoIHsKICB3aWR0aDogMTAwJTsKfQoKLmJnLXB1cnBsZS1kYXJrIHsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMCk7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBwYWRkaW5nOiA2MHB4IDA7IAogICAgY29sb3I6IHdoaXRlOwogIH0KCi5lbC1pbnB1dCB7CiAgd2lkdGg6IDQwMHB4Owp9CgouZWwtYnV0dG9uewogIHdpZHRoOiA0MDBweDsKfQoKLmVsLWZvcm0taXRlbSA6OnYtZGVlcCAuZWwtZm9ybS1pdGVtX19lcnJvcnsKICBwYWRkaW5nLWxlZnQ6IDUwcHg7Cn0KCg=="},{"version":3,"sources":["E:\\GitHub\\smart-hotel\\vue\\src\\views\\Login.vue"],"names":[],"mappings":";AAyLA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAErB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3B;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACb;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACd;;AAEF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACd;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACd;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpB","file":"E:/GitHub/smart-hotel/vue/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  \n    <div class=\"homepage-hero-module\">\n      <div class=\"building\">\n        <el-row>\n        <el-col :span=\"10\">\n            <div class=\"bg-purple-dark\"  style=\"font-size: 50px\">\n                欢迎来到智能酒店管理系统\n            </div>\n        </el-col>\n        <el-menu\n        class=\"bg-purple-dark\"\n        mode=\"horizontal\" \n        text-color=\"#000000\" \n        active-text-color=\"#0000ff\" \n        style=\"width: 1000px;padding-left: 200px\">\n            <el-menu-item index=\"1\" style=\"width: 250px;color: #ffffff;font-size: 20px\"\n            route=\"/login\"\n            @click=\"$router.push('/login')\">登录</el-menu-item>\n            <el-menu-item index=\"2\" style=\"width: 250px;color: #ffffff;font-size: 20px\"\n            @click=\"$router.push('/register')\">注册</el-menu-item>\n            <el-menu-item index=\"3\" style=\"width: 250px;color: #ffffff;font-size: 20px\"\n            @click=\"$router.push('/')\">返回首页</el-menu-item>\n        </el-menu>\n        </el-row>\n      <div :style=\"fixStyle\" class=\"filter\">\n        <div style=\"width: 500px; height:360px; margin: 100px auto; background: white;\">\n          <div style=\"font-size: 30px; text-align: center; padding: 30px 0; color: #333\">欢迎登录</div>\n          <center>\n          <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n            <el-form-item prop=\"username\">\n              <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" placeholder=\"请输入账号\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-row>\n                <el-col :span=\"10\" style=\"padding-left: 50px\">\n                <el-input prefix-icon=\"el-icon-key\" v-model=\"form.validCode\" style=\"width: 200px;\" placeholder=\"请输入验证码\"></el-input>\n                </el-col>\n                <el-col :span=\"10\" style=\"padding-left: 50px\">\n                <ValidCode @input=\"createValidCode\" /> \n                </el-col>\n              </el-row>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"login\">登 录</el-button>\n            </el-form-item>\n          </el-form>\n          </center>\n        </div>\n      </div>\n      <el-footer\n        style=\"\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        background-color: #B3C0D1;\n        color: #333;\n        text-align: center;\n        line-height: 100px;\n        \">\n        <div style=\"margin: -20px;\">\n            Copyright © 2025.XXX All rights reserved\n        </div>\n      </el-footer>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport ValidCode from \"@/components/ValidCode\";\nimport {activeRouter} from \"@/utils/permission\";\nimport router from \"@/router\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    ValidCode,\n  },\n  data() {\n    return {\n      vedioCanPlay: false,\n      fixStyle: '',\n      form: {role: 1},\n      rules: {\n        username: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n        ],\n      },\n      validCode: ''\n      // 加背景图片\n      // bg: {\n      //   backgroundImage: \"url(\" + require(\"@/assets/bg.jpg\") + \")\",\n      //   backgroundRepeat: \"no-repeat\",\n      //   backgroundSize: \"100% 100%\"\n      // }\n    }\n  },\n  mounted() {\n    sessionStorage.removeItem(\"user\")\n\n    window.onresize = () => {\n      const windowWidth = document.body.clientWidth\n      const windowHeight = document.body.clientHeight\n      const windowAspectRatio = windowHeight / windowWidth\n      let videoWidth\n      let videoHeight\n      if (windowAspectRatio < 0.5625) {\n        videoWidth = windowWidth\n        videoHeight = videoWidth * 0.5625\n        this.fixStyle = {\n          height: windowWidth * 0.5625 + 'px',\n          width: windowWidth + 'px',\n          'margin-bottom': (windowHeight - videoHeight) / 2 + 'px',\n          'margin-left': 'initial'\n        }\n      } else {\n        videoHeight = windowHeight\n        videoWidth = videoHeight / 0.5625\n        this.fixStyle = {\n          height: windowHeight + 'px',\n          width: windowHeight / 0.5625 + 'px',\n          'margin-left': (windowWidth - videoWidth) / 2 + 'px',\n          'margin-bottom': 'initial'\n        }\n      }\n    }\n    window.onresize()\n  },\n  watch: {\n    '$route' (to, from) {\n        this.$router.go(0);\n    }\n  },\n  methods: {\n    canplay() {\n      this.vedioCanPlay = true\n    },\n    // 接收验证码组件提交的 4位验证码\n    createValidCode(data) {\n      this.validCode = data\n    },\n    login () {\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          if (!this.form.validCode) {\n            this.$message.error(\"请填写验证码\")\n            return\n          }\n          if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n            this.$message.error(\"验证码错误\")\n            return\n          }\n          request.post(\"/user/login\", this.form).then(res => {\n            if (res.code === '0') {\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n              // 登录成功的时候更新当前路由\n              activeRouter()\n              this.$message({\n                type: \"success\",\n                message: \"登录成功\"\n              })\n              this.$router.push(\"/hindex\")  //登录成功之后进行页面的跳转，跳转到主页\n            } else {\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              })\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.homepage-hero-module,\n\n.building{\n  background:url(\"../assets/bgbg.jpg\");\n  width:100%;\n  height:100%;\n  position:fixed;\n  background-size:100% 100%;\n}\n\n.fillWidth {\n  width: 100%;\n}\n\n.bg-purple-dark {\n    background: rgba(0, 0, 0, 0);\n    text-align: center;\n    padding: 60px 0; \n    color: white;\n  }\n\n.el-input {\n  width: 400px;\n}\n\n.el-button{\n  width: 400px;\n}\n\n.el-form-item ::v-deep .el-form-item__error{\n  padding-left: 50px;\n}\n\n</style>\n"]}]}